<!-- Estoy re-aprendiendo PrimeNG por que esta bonito -->
<p-card header="Panel de Control">
  <p>¡Bienvenido al Panel de Control de FoodDPet! Aquí puedes monitorear métricas clave y gestionar los planes de nutrición de tu mascota.</p>
  <p>Estado de Llenado: {{ fullnessStatus }}</p>
  <p>Porcentaje de Llenado: {{ fullnessPercentage }}%</p>
</p-card>
<p-card header="Historial de Solicitudes">
  <p-table [value]="requestHistory">
    <ng-template #header>
      <tr>
        <th>Hora</th>
        <th>Estado</th>
        <th>Acción</th>
      </tr>
    </ng-template>
    <ng-template #body let-request>
      <tr>
        <td>{{ request.hora | date:'short' }}</td>
        <td>@switch (request.estado) {
            @case ("Completed") {
              <p-tag severity="success" value="Completado"></p-tag>
            }
            @case ("Cancelled") {
              <p-tag severity="danger" value="Cancelado"></p-tag>
            }
            @case ("Pending") {
              <p-tag severity="info" value="Pendiente"></p-tag>
            }

          }
          </td>
        @if (request.estado == "Pending") {
          <td class="text-center">
            <div class="flex justify-center gap-2">
              <p-button icon="pi pi-check" severity="success" (click)="completeRequest(request)" label="Aceptar" />
              <p-button icon="pi pi-times" severity="danger" (click)="cancelRequest(request)" label="Rechazar" />
            </div>
          </td>
        } @else {
          <td class="text-center">
            <p-tag severity="secondary" value="No se requiere acción"></p-tag>
          </td>
        }
      </tr>
    </ng-template>
  </p-table>
</p-card>
